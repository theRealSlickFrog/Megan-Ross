<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Estate Planning Guides & Resources - Ross Estate Law</title>
	<meta name="description" content="Download free estate planning guides and checklists. Access will and probate resources, and learn about upcoming estate planning events in Halifax, Nova Scotia.">
	<meta name="keywords" content="estate planning guides, will checklist, probate checklist, estate planning resources, Halifax estate planning, Nova Scotia wills">
	<meta property="og:title" content="Estate Planning Guides & Resources - Ross Estate Law">
	<meta property="og:description" content="Download free estate planning guides and checklists. Access will and probate resources, and learn about upcoming estate planning events in Halifax, Nova Scotia.">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://www.rossestatelaw.ca/guides.html">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/cookie-consent.css">
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=AW-17764035456"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'AW-17764035456');
	</script>
	<!-- Microsoft Clarity -->
	<script type="text/javascript">
	    (function(c,l,a,r,i,t,y){
	        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
	        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
	    })(window, document, "clarity", "script", "tqrkh0s8id");
	</script>
	</script>
</head>
<body>
	<div id="header">
		<div>
			<a href="index.html" class="logo">Ross Estate Law</a>
		</div>
	</div>
	<div id="nav-placeholder"></div>
	<div id="body">
		<div id="background" class="guides-page-bg">
			<div class="guides-container">
					<!-- Documents Section -->
					<div class="section">
						<h2 class="section-title">Documents</h2>
						<div class="documents-grid">
							<a href="https://drive.google.com/open?id=1S5KoOGl4rfRYPBxJerCtD_x8SfVe9o4G" target="_blank" class="document-item doc-1">
								<img src="images/Estate Executor WorkBook.jpg" alt="Estate Executor WorkBook" class="document-image">
								<div class="document-overlay">Estate Executor WorkBook</div>
							</a>
							<a href="https://drive.google.com/open?id=1JjDxSxKFY_z5z_tv_3yc-pfsEvrAeNHn" target="_blank" class="document-item doc-2">
								<img src="images/Estate Planning Guide.jpg" alt="Estate Planning Guide" class="document-image">
								<div class="document-overlay">Estate Planning Guide</div>
							</a>
							<a href="https://drive.google.com/open?id=1bfHsWcF4mMKMMqY92MT5TJCiclm1zjbc" target="_blank" class="document-item doc-3">
								<img src="images/Guardianship Planning Workbook.jpg" alt="Guardianship Planning Workbook" class="document-image">
								<div class="document-overlay">Guardianship Planning Workbook</div>
							</a>
							<a href="https://drive.google.com/open?id=1Fr66XzLUaWmrcYgABjyAVPSFRRVHdkOJ" target="_blank" class="document-item doc-4">
								<img src="images/Personal Directive Planning.jpg" alt="Personal Directive Planning" class="document-image">
								<div class="document-overlay">Personal Directive Planning</div>
							</a>
							<!-- Empty spacers to create additional row space -->
							<div class="document-spacer"></div>
							<div class="document-spacer"></div>
							<div class="document-spacer"></div>
							<div class="document-spacer"></div>
						</div>
					</div>

					<!-- Upcoming Events Section -->
					<div class="section events-section">
						<h2 class="section-title">Upcoming Events</h2>
						<div class="events-content">
							<!-- Blog posts will go here -->
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="contact-banner">
		<div class="contact-content">
			<div class="contact-info">
				<h2>Ross Estate Law</h2>
				<div class="contact-details">
					<div class="contact-item">
						<span class="phone">(902) 403-0008</span>
					</div>
					<div class="contact-item">
						<span class="email">megan@rossestatelaw.ca</span>
					</div>
					<div class="contact-item">
						<span class="address">99 Wyse Road, Suite 1100<br>Dartmouth, Nova Scotia<br>B3A 4S5</span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="footer">
		<ul>
			<li>
				<a href="index.html">Home</a>
			</li>
			<li>
				<a href="about.html">About</a>
			</li>
			<li>
				<a href="estate-planning.html">Services</a>
			</li>
			<li>
				<a href="blog.html">Blog</a>
			</li>
			<li>
				<a href="legal.html">Privacy & Legal</a>
			</li>
		</ul>
	</div>
	<style>
		/* Page content styling */
		#background {
			background: #ffffff !important;
			padding: 40px 0 80px 0;
			min-height: 400px;
		}

		/* Guides page specific - full width layout */
		.guides-page-bg {
			max-width: 100% !important;
			width: 100% !important;
			margin: 0 auto !important;
			padding: 60px 20px !important;
			float: none !important;
			position: relative !important;
			left: auto !important;
			right: auto !important;
			transform: none !important;
			background: #ffffff !important;
		}

		/* Override default background div widths */
		#body div#background.guides-page-bg div:not(.events-content):not(.blog-post-box):not(.blog-post-content),
		#body div#background.guides-page-bg div div:not(.events-content):not(.blog-post-box):not(.blog-post-content),
		#body div#background.guides-page-bg div div div:not(.events-content):not(.blog-post-box):not(.blog-post-content) {
			width: 100% !important;
			max-width: 1600px !important;
			margin: 0 auto !important;
			padding: 0 !important;
		}

		.guides-container {
			max-width: 1600px;
			margin: 0 auto;
			padding: 0 50px;
		}

		/* Section Styling */
		.section {
			margin-bottom: 60px;
		}

		.section-title {
			font-size: 29px;
			font-weight: bold;
			color: #000;
			margin: 0 0 20px 0;
			padding-bottom: 10px;
			border-bottom: 3px solid #000;
		}

		/* Documents Grid */
		.documents-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(150px, 200px));
			gap: 80px 60px;
			margin-top: 30px;
			margin-bottom: 150px;
			justify-content: center;
		}

		.document-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			text-align: center;
			cursor: pointer;
			text-decoration: none;
			color: inherit;
			transition: transform 0.2s ease;
			max-width: 200px;
			position: relative;
			width: 200px;
			height: 260px;
			border-radius: 8px;
			box-shadow: 0 4px 8px rgba(0,0,0,0.2);
		}

		.document-item:hover {
			transform: translateY(-5px);
		}

		/* Individual document background colors */
		.doc-1 {
			background: #e8ddd4;
		}

		.doc-2 {
			background: #e8ddd4;
		}

		.doc-3 {
			background: #e8ddd4;
		}

		.doc-4 {
			background: #e8ddd4;
		}

		.document-overlay {
			position: absolute;
			top: 0;
			left: 0;
			width: 200px;
			height: 260px;
			background: #ffffff;
			border-radius: 8px;
			display: flex;
			align-items: center;
			justify-content: center;
			padding: 20px;
			box-sizing: border-box;
			opacity: 0;
			transition: opacity 0.3s ease;
			font-size: 22px;
			font-weight: bold;
			color: #333;
			text-align: center;
			box-shadow: 0 4px 8px rgba(0,0,0,0.2);
		}

		.document-item:hover .document-overlay {
			opacity: 1;
		}

		.pdf-icon {
			width: 80px;
			height: 80px;
			object-fit: contain;
			margin-bottom: 15px;
			flex-shrink: 0;
		}

		.document-image {
			width: 200px;
			height: 260px;
			object-fit: contain;
			border-radius: 8px;
			box-shadow: 0 4px 8px rgba(0,0,0,0.2);
			transition: box-shadow 0.3s ease, transform 0.3s ease;
		}

		.document-item:hover .document-image {
			box-shadow: 0 6px 12px rgba(0,0,0,0.3);
			transform: translateY(-5px);
		}

		.document-item h3 {
			font-size: 18px;
			font-weight: bold;
			color: #000;
			margin: 0;
		}

		.document-spacer {
			height: 40px;
		}

		/* Event Item */
		.event-item {
			display: flex;
			gap: 30px;
			align-items: flex-start;
			margin-top: 30px;
		}

		.event-image {
			width: 200px;
			height: 150px;
			object-fit: cover;
			flex-shrink: 0;
		}

		.event-details h3 {
			font-size: 24px;
			font-weight: bold;
			color: #000;
			margin: 0 0 10px 0;
		}

		.event-date {
			font-size: 18px;
			color: #000;
			margin: 0 0 5px 0;
		}

		.event-location {
			font-size: 18px;
			color: #000;
			margin: 0;
		}

		/* Events Section Styling - Force override global CSS */
		.events-section {
			text-align: left !important;
			padding-top: 150px !important;
		}

		.events-content {
			display: block !important;
			margin-top: 30px !important;
			text-align: left !important;
			width: 100% !important;
			max-width: 100% !important;
			box-sizing: border-box !important;
		}

		/* Blog Post Box */
		.blog-post-box {
			display: flex !important;
			background: #ffffff !important;
			border: 3px solid #8B7355 !important;
			border-radius: 10px !important;
			padding: 15px !important;
			margin-bottom: 20px !important;
			gap: 20px !important;
			align-items: flex-start !important;
			box-sizing: border-box !important;
			width: 100% !important;
			max-width: 100% !important;
		}

		.blog-post-image {
			display: block !important;
			width: 40% !important;
			max-width: 40% !important;
			flex-shrink: 0 !important;
			border-radius: 8px !important;
			overflow: hidden !important;
		}

		.blog-post-image img {
			display: block !important;
			width: 100% !important;
			height: 250px !important;
			object-fit: cover !important;
		}

		.blog-post-content {
			display: block !important;
			width: 60% !important;
			max-width: 60% !important;
			text-align: left !important;
			color: #333 !important;
			box-sizing: border-box !important;
		}

		.blog-post-title {
			display: block !important;
			font-family: 'QuestrialRegular', sans-serif !important;
			font-size: 24px !important;
			font-weight: bold !important;
			color: #333 !important;
			margin: 0 0 10px 0 !important;
			padding: 0 !important;
			text-align: left !important;
		}

		.blog-post-meta {
			display: block !important;
			font-family: 'QuestrialRegular', sans-serif !important;
			font-size: 14px !important;
			color: #666 !important;
			margin: 0 0 15px 0 !important;
			padding: 0 !important;
			text-align: left !important;
		}

		.blog-post-excerpt {
			display: -webkit-box !important;
			font-family: 'QuestrialRegular', sans-serif !important;
			font-size: 16px !important;
			color: #333 !important;
			line-height: 1.6 !important;
			margin: 0 !important;
			padding: 0 !important;
			text-align: left !important;
			-webkit-line-clamp: 3 !important;
			-webkit-box-orient: vertical !important;
			overflow: hidden !important;
		}

		/* Scrollable body content within each blog post */
		.blog-post-body-scroll {
			scrollbar-width: thin !important;
			scrollbar-color: #8B7355 #f1f1f1 !important;
		}

		.blog-post-body-scroll * {
			text-align: left !important;
		}

		.blog-post-body-scroll::-webkit-scrollbar {
			width: 12px !important;
			display: block !important;
		}

		.blog-post-body-scroll::-webkit-scrollbar-track {
			background: #f1f1f1 !important;
			border-radius: 6px !important;
		}

		.blog-post-body-scroll::-webkit-scrollbar-thumb {
			background: #8B7355 !important;
			border-radius: 6px !important;
			min-height: 30px !important;
		}

		.blog-post-body-scroll::-webkit-scrollbar-thumb:hover {
			background: #6d5a42 !important;
		}

		/* Mobile Responsive */
		@media (max-width: 768px) {
			.blog-post-box {
				flex-direction: column;
			}

			.blog-post-image,
			.blog-post-content {
				width: 100%;
			}

			.blog-post-image img {
				height: 200px;
			}
		}

		/* Tablet Responsive */
		@media (max-width: 1024px) {
			.guides-container {
				padding: 0 30px;
			}

			.section-title {
				font-size: 22px;
			}
		}

		/* Mobile Responsive */
		@media (max-width: 768px) {
			.guides-container {
				padding: 0 20px;
			}

			.section {
				margin-bottom: 40px;
			}

			.section-title {
				font-size: 20px;
				padding-bottom: 8px;
				border-bottom: 2px solid #000;
			}

			.documents-grid {
				grid-template-columns: repeat(2, 1fr);
				gap: 30px;
				margin-bottom: 60px;
			}

			.document-item {
				width: 100%;
				max-width: 200px;
			}

			.pdf-icon {
				width: 70px;
				height: 70px;
			}

			.document-item h3 {
				font-size: 16px;
			}

			.event-item {
				flex-direction: column;
			}

			.event-image {
				width: 100%;
				max-width: 300px;
			}

			.event-details h3 {
				font-size: 20px;
			}

			.event-date,
			.event-location {
				font-size: 16px;
			}

			#background {
				padding: 20px 0 40px 0;
			}
		}

		/* Small Mobile */
		@media (max-width: 480px) {
			.guides-container {
				padding: 0 15px;
			}

			.section-title {
				font-size: 18px;
			}

			.documents-grid {
				grid-template-columns: 1fr;
			}

			.document-item h3 {
				font-size: 14px;
			}

			.pdf-icon {
				width: 60px;
				height: 60px;
			}

			.event-details h3 {
				font-size: 18px;
			}

			.event-date,
			.event-location {
				font-size: 14px;
			}
		}
	</style>

	<script src="js/mobile-nav.js"></script>
	<script src="js/load-navigation.js"></script>
	<script src="js/cookie-consent.js"></script>

	<script>
		// Load blog posts for guides page
		async function loadGuidePosts() {
			try {
				const response = await fetch('https://api.github.com/repos/theRealSlickFrog/Megan-Ross/contents/_posts');
				const files = await response.json();

				const container = document.querySelector('.events-content');

				if (!files || files.length === 0) {
					container.innerHTML = '<p style="color: #666;">No events yet.</p>';
					return;
				}

				// Fetch and parse all posts
				const posts = [];
				for (const file of files) {
					if (file.name.endsWith('.md')) {
						// Add cache-busting parameter to force fresh fetch from GitHub
						const cacheBuster = `?t=${Date.now()}`;
						const contentResponse = await fetch(file.download_url + cacheBuster);
						const content = await contentResponse.text();
						const post = parsePost(content);
						if (post) posts.push(post);
					}
				}

				// Filter for guides or both
				const guidePosts = posts.filter(post => {
					const category = (post.category || 'blog').trim().toLowerCase();
					console.log('Post:', post.title, 'Category:', category);
					return category === 'guides' || category === 'both';
				});

				// Sort by date (newest first)
				guidePosts.sort((a, b) => new Date(b.date) - new Date(a.date));

				if (guidePosts.length === 0) {
					container.innerHTML = '<p style="color: #666;">No events yet.</p>';
					return;
				}

				// Display posts
				container.innerHTML = guidePosts.map(post => {
					const dateStr = formatDate(post.date);
					const fallbackImg = 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="250" viewBox="0 0 400 250"%3E%3Crect fill="%23ddd" width="400" height="250"/%3E%3Ctext x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="18" fill="%23999"%3ENo Image%3C/text%3E%3C/svg%3E';
					// Convert markdown to HTML (basic conversion)
					const bodyHtml = post.body
						.replace(/### (.*)/g, '<h3>$1</h3>')
						.replace(/## (.*)/g, '<h2>$1</h2>')
						.replace(/# (.*)/g, '<h1>$1</h1>')
						.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
						.replace(/\*(.*?)\*/g, '<em>$1</em>')
						.replace(/\n\n/g, '</p><p>')
						.replace(/^\* (.*)/gm, '<li>$1</li>')
						.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');

					return `
						<div class="blog-post-box" style="display: flex !important; gap: 20px !important; align-items: flex-start !important; padding: 15px !important;">
							<div class="blog-post-image" style="width: 30% !important; flex-shrink: 0 !important;">
								<img src="${post.thumbnail || fallbackImg}" alt="${escapeHtml(post.title)}" onerror="this.src='${fallbackImg}'" style="width: 100% !important; height: 250px !important; object-fit: cover !important; display: block !important;">
							</div>
							<div class="blog-post-content" style="width: 70% !important; display: flex !important; flex-direction: column !important; margin: 0 !important; padding: 0 !important;">
								<h3 class="blog-post-title" style="display: block !important; font-size: 24px !important; font-weight: bold !important; color: #333 !important; margin: 0 0 5px 0 !important; padding: 0 !important; text-align: left !important; flex-shrink: 0 !important; line-height: 1.2 !important;">${escapeHtml(post.title)}</h3>
								<p class="blog-post-meta" style="display: block !important; font-size: 14px !important; color: #666 !important; margin: 0 0 10px 0 !important; padding: 0 !important; text-align: left !important; flex-shrink: 0 !important; line-height: 1.2 !important;">${dateStr}</p>
								<div class="blog-post-body-scroll" style="display: block !important; overflow-y: scroll !important; overflow-x: hidden !important; max-height: 200px !important; padding-right: 5px !important; font-size: 16px !important; color: #333 !important; line-height: 1.6 !important; text-align: left !important; box-sizing: border-box !important;">
									<div style="text-align: left !important;"><p style="text-align: left !important; margin: 0 !important; padding: 0 !important;">${bodyHtml}</p></div>
								</div>
							</div>
						</div>
					`;
				}).join('');

			} catch (error) {
				console.error('Error loading guide posts:', error);
				document.querySelector('.events-content').innerHTML = '<p style="color: #666;">Error loading events.</p>';
			}
		}

		// Parse markdown post
		function parsePost(content) {
			const frontMatterRegex = /^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/;
			const match = content.match(frontMatterRegex);
			if (!match) return null;

			const post = { body: match[2] };

			// Parse front matter
			match[1].split('\n').forEach(line => {
				const colonIndex = line.indexOf(':');
				if (colonIndex > 0) {
					const key = line.substring(0, colonIndex).trim();
					const value = line.substring(colonIndex + 1).trim();
					post[key] = value;
				}
			});

			return post;
		}

		// Get excerpt (first 150 characters)
		function getExcerpt(body) {
			const text = body.replace(/[#*_`\[\]]/g, '').trim();
			return text.length > 150 ? text.substring(0, 150) + '...' : text;
		}

		// Format date
		function formatDate(dateStr) {
			try {
				const date = new Date(dateStr);
				return date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
			} catch {
				return dateStr;
			}
		}

		// Escape HTML
		function escapeHtml(text) {
			const div = document.createElement('div');
			div.textContent = text;
			return div.innerHTML;
		}

		// Load on page load
		loadGuidePosts();
	</script>

</body>
</html>
