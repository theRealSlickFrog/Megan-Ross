<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Estate Planning Guides & Resources - Ross Estate Law</title>
	<meta name="description" content="Download free estate planning guides and checklists. Access will and probate resources, and learn about upcoming estate planning events in Halifax, Nova Scotia.">
	<meta name="keywords" content="estate planning guides, will checklist, probate checklist, estate planning resources, Halifax estate planning, Nova Scotia wills">
	<meta property="og:title" content="Estate Planning Guides & Resources - Ross Estate Law">
	<meta property="og:description" content="Download free estate planning guides and checklists. Access will and probate resources, and learn about upcoming estate planning events in Halifax, Nova Scotia.">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://www.rossestatelaw.ca/guides.html">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/cookie-consent.css">
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z16VBQK1J4"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-Z16VBQK1J4');
	<!-- Microsoft Clarity -->
	<script type="text/javascript">
	    (function(c,l,a,r,i,t,y){
	        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
	        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
	    })(window, document, "clarity", "script", "tqrkh0s8id");
	</script>
	</script>
</head>
<body>
	<div id="header">
		<div>
			<a href="index.html" class="logo">Ross Estate Law</a>
		</div>
	</div>
	<div id="nav-placeholder"></div>
	<div id="body">
		<div id="background">
			<div>
				<div class="guides-container">
					<!-- Documents Section -->
					<div class="section">
						<h2 class="section-title">Documents</h2>
						<div class="documents-grid">
							<div class="document-item">
								<img src="pdf.jpg" alt="PDF Icon" class="pdf-icon">
								<h3>Will Checklist</h3>
							</div>
							<div class="document-item">
								<img src="pdf.jpg" alt="PDF Icon" class="pdf-icon">
								<h3>Probate Checklist</h3>
							</div>
						</div>
					</div>

					<!-- Upcoming Events Section -->
					<div class="section">
						<h2 class="section-title">Upcoming Events</h2>
						<div id="guides-posts"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="contact-banner">
		<div class="contact-content">
			<div class="contact-info">
				<h2>Ross Estate Law</h2>
				<div class="contact-details">
					<div class="contact-item">
						<span class="phone">(902) 403-0008</span>
					</div>
					<div class="contact-item">
						<span class="email">megan@rossestatelaw.ca</span>
					</div>
					<div class="contact-item">
						<span class="address">99 Wyse Road, Suite 1100<br>Dartmouth, Nova Scotia<br>B3A 4S5</span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="footer">
		<ul>
			<li>
				<a href="index.html">Home</a>
			</li>
			<li>
				<a href="about.html">About</a>
			</li>
			<li>
				<a href="estate-planning.html">Services</a>
			</li>
			<li>
				<a href="blog.html">Blog</a>
			</li>
			<li>
				<a href="legal.html">Privacy & Legal</a>
			</li>
		</ul>
	</div>
	<style>
		/* Page content styling */
		#background {
			background: #ffffff !important;
			padding: 40px 0 80px 0;
			min-height: 400px;
		}

		/* Override default width restrictions */
		#body div#background div {
			width: 100% !important;
			max-width: none !important;
		}

		#body div#background div div {
			width: 100% !important;
			max-width: none !important;
		}

		#body div#background div div div {
			width: 100% !important;
			max-width: none !important;
			padding: 0 !important;
		}

		.guides-container {
			max-width: 1600px;
			margin: 0 auto;
			padding: 0 50px;
		}

		/* Section Styling */
		.section {
			margin-bottom: 60px;
		}

		.section-title {
			font-size: 24px;
			font-weight: bold;
			color: #000;
			margin: 0 0 20px 0;
			padding-bottom: 10px;
			border-bottom: 3px solid #000;
		}

		/* Documents Grid */
		.documents-grid {
			display: flex;
			gap: 40px;
			margin-top: 30px;
		}

		.document-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			text-align: center;
			cursor: pointer;
		}

		.pdf-icon {
			width: 80px;
			height: 80px;
			object-fit: contain;
			margin-bottom: 15px;
		}

		.document-item h3 {
			font-size: 18px;
			font-weight: bold;
			color: #000;
			margin: 0;
		}

		/* Event Item */
		.event-item {
			display: flex;
			gap: 30px;
			align-items: flex-start;
			margin-top: 30px;
		}

		.event-image {
			width: 200px;
			height: 150px;
			object-fit: cover;
			flex-shrink: 0;
		}

		.event-details h3 {
			font-size: 24px;
			font-weight: bold;
			color: #000;
			margin: 0 0 10px 0;
		}

		.event-date {
			font-size: 18px;
			color: #000;
			margin: 0 0 5px 0;
		}

		.event-location {
			font-size: 18px;
			color: #000;
			margin: 0;
		}

		/* Guide Post Styling */
		.guide-post {
			margin-top: 30px;
			border: 3px solid #A0826D;
			border-radius: 8px;
			overflow: hidden;
			background: #fff;
			max-width: 100%;
			display: flex;
			gap: 0;
		}

		.guide-post-image {
			width: 400px;
			height: 300px;
			object-fit: cover;
			display: block;
			flex-shrink: 0;
		}

		.guide-post-content {
			padding: 30px;
			flex: 1;
			display: flex;
			flex-direction: column;
		}

		.guide-post-content h3 {
			font-size: 28px;
			font-weight: bold;
			color: #000;
			margin: 0 0 20px 0;
		}

		.guide-post-body {
			height: 192px;
			overflow-y: auto;
			color: #333;
			line-height: 1.6;
			padding: 15px;
			border-radius: 4px;
		}

		.guide-post-body p {
			margin: 0 0 15px 0;
			font-size: 16px;
		}

		.guide-post-body h2,
		.guide-post-body h3,
		.guide-post-body h4 {
			margin: 20px 0 10px 0;
			color: #000;
		}

		.guide-post-body ul {
			margin: 10px 0;
			padding-left: 20px;
		}

		.guide-post-body li {
			margin: 5px 0;
		}

		.guide-post-body::-webkit-scrollbar {
			width: 8px;
		}

		.guide-post-body::-webkit-scrollbar-track {
			background: #f1f1f1;
			border-radius: 4px;
		}

		.guide-post-body::-webkit-scrollbar-thumb {
			background: #888;
			border-radius: 4px;
		}

		.guide-post-body::-webkit-scrollbar-thumb:hover {
			background: #555;
		}

		/* Tablet Responsive */
		@media (max-width: 1024px) {
			.guides-container {
				padding: 0 30px;
			}

			.section-title {
				font-size: 22px;
			}
		}

		/* Mobile Responsive */
		@media (max-width: 768px) {
			.guides-container {
				padding: 0 20px;
			}

			.section {
				margin-bottom: 40px;
			}

			.section-title {
				font-size: 20px;
				padding-bottom: 8px;
				border-bottom: 2px solid #000;
			}

			.documents-grid {
				flex-direction: column;
				gap: 30px;
				align-items: center;
			}

			.document-item {
				width: 100%;
				max-width: 200px;
			}

			.pdf-icon {
				width: 70px;
				height: 70px;
			}

			.document-item h3 {
				font-size: 16px;
			}

			.event-item {
				flex-direction: column;
			}

			.event-image {
				width: 100%;
				max-width: 300px;
			}

			.event-details h3 {
				font-size: 20px;
			}

			.event-date,
			.event-location {
				font-size: 16px;
			}

			#background {
				padding: 20px 0 40px 0;
			}
		}

		/* Small Mobile */
		@media (max-width: 480px) {
			.guides-container {
				padding: 0 15px;
			}

			.section-title {
				font-size: 18px;
			}

			.document-item h3 {
				font-size: 14px;
			}

			.pdf-icon {
				width: 60px;
				height: 60px;
			}

			.event-details h3 {
				font-size: 18px;
			}

			.event-date,
			.event-location {
				font-size: 14px;
			}
		}
	</style>

	<script src="js/mobile-nav.js"></script>
	<script src="js/load-navigation.js"></script>
	<script src="js/cookie-consent.js"></script>

	<script>
		// Fetch and display guides posts
		async function loadGuidesPosts() {
			try {
				const response = await fetch('https://api.github.com/repos/theRealSlickFrog/Megan-Ross/contents/_posts');
				const files = await response.json();

				const guidesContainer = document.getElementById('guides-posts');

				if (!files || files.length === 0) {
					guidesContainer.innerHTML = '<p style="margin: 20px 0;">No events yet.</p>';
					return;
				}

				// Fetch each post's content
				const posts = [];
				for (const file of files) {
					if (file.name.endsWith('.md')) {
						const contentResponse = await fetch(file.download_url);
						const content = await contentResponse.text();
						const post = parseMarkdownPost(content, file.name);
						if (post) posts.push(post);
					}
				}

				// Filter for guides posts only (category is "guides" or "both")
				const guidesPosts = posts.filter(post => {
					const category = post.category || 'blog';
					return category === 'guides' || category === 'both';
				});

				// Sort by date (newest first)
				guidesPosts.sort((a, b) => new Date(b.date) - new Date(a.date));

				if (guidesPosts.length === 0) {
					guidesContainer.innerHTML = '<p style="margin: 20px 0;">No events yet.</p>';
					return;
				}

				// Display posts with image and full text
				guidesContainer.innerHTML = guidesPosts.map(post => {
					const htmlContent = convertMarkdownToHTML(post.body);
					console.log('Guide post:', post.title, 'Thumbnail:', post.thumbnail);
					return `
						<div class="guide-post">
							${post.thumbnail ? `<img src="${post.thumbnail}" alt="${escapeHtml(post.title)}" class="guide-post-image" onerror="console.error('Failed to load image:', this.src);">` : '<div style="width: 400px; height: 300px; background: #e0e0e0; flex-shrink: 0;"></div>'}
							<div class="guide-post-content">
								<h3>${escapeHtml(post.title)}</h3>
								<div class="guide-post-body">${htmlContent}</div>
							</div>
						</div>
					`;
				}).join('');

			} catch (error) {
				console.error('Error loading guides posts:', error);
				document.getElementById('guides-posts').innerHTML = '<p style="margin: 20px 0;">Error loading events.</p>';
			}
		}

		// Parse markdown post file
		function parseMarkdownPost(content, filename) {
			const frontMatterRegex = /^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/;
			const match = content.match(frontMatterRegex);

			if (!match) return null;

			const frontMatter = match[1];
			const body = match[2];

			const post = { body, filename };

			// Parse front matter
			frontMatter.split('\n').forEach(line => {
				const [key, ...valueParts] = line.split(':');
				if (key && valueParts.length) {
					const value = valueParts.join(':').trim();
					post[key.trim()] = value;
				}
			});

			return post;
		}

		// Simple markdown to HTML converter
		function convertMarkdownToHTML(markdown) {
			let html = markdown;

			// Headers
			html = html.replace(/### (.*?)$/gm, '<h4>$1</h4>');
			html = html.replace(/## (.*?)$/gm, '<h3>$1</h3>');
			html = html.replace(/# (.*?)$/gm, '<h2>$1</h2>');

			// Bold
			html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

			// Italic
			html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');

			// Lists
			html = html.replace(/^\* (.*?)$/gm, '<li>$1</li>');
			html = html.replace(/(<li>.*<\/li>\n?)+/g, '<ul>$&</ul>');

			// Paragraphs
			html = html.split('\n\n').map(para => {
				if (!para.trim()) return '';
				if (para.startsWith('<h') || para.startsWith('<ul') || para.startsWith('<li')) return para;
				return '<p>' + para + '</p>';
			}).join('\n');

			return html;
		}

		// Escape HTML
		function escapeHtml(text) {
			const div = document.createElement('div');
			div.textContent = text;
			return div.innerHTML;
		}

		// Load posts on page load
		loadGuidesPosts();
	</script>
</body>
</html>
