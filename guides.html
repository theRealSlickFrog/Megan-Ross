<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Estate Planning Guides & Resources - Ross Estate Law</title>
	<meta name="description" content="Download free estate planning guides and checklists. Access will and probate resources, and learn about upcoming estate planning events in Halifax, Nova Scotia.">
	<meta name="keywords" content="estate planning guides, will checklist, probate checklist, estate planning resources, Halifax estate planning, Nova Scotia wills">
	<meta property="og:title" content="Estate Planning Guides & Resources - Ross Estate Law">
	<meta property="og:description" content="Download free estate planning guides and checklists. Access will and probate resources, and learn about upcoming estate planning events in Halifax, Nova Scotia.">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://www.rossestatelaw.ca/guides.html">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/cookie-consent.css">
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z16VBQK1J4"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());

	  gtag('config', 'G-Z16VBQK1J4');
	<!-- Microsoft Clarity -->
	<script type="text/javascript">
	    (function(c,l,a,r,i,t,y){
	        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
	        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
	        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
	    })(window, document, "clarity", "script", "tqrkh0s8id");
	</script>
	</script>
</head>
<body>
	<div id="header">
		<div>
			<a href="index.html" class="logo">Ross Estate Law</a>
		</div>
	</div>
	<div id="nav-placeholder"></div>
	<div id="body">
		<div id="background" class="guides-page-bg">
			<div class="guides-container">
					<!-- Documents Section -->
					<div class="section">
						<h2 class="section-title">Documents</h2>
						<div class="documents-grid">
							<div class="document-item">
								<img src="pdf.jpg" alt="PDF Icon" class="pdf-icon">
								<h3>Will Checklist</h3>
							</div>
							<div class="document-item">
								<img src="pdf.jpg" alt="PDF Icon" class="pdf-icon">
								<h3>Probate Checklist</h3>
							</div>
						</div>
					</div>

					<!-- Upcoming Events Section -->
					<div class="section events-section">
						<h2 class="section-title">Upcoming Events</h2>
						<div class="events-content">
							<!-- Blog posts will go here -->
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="contact-banner">
		<div class="contact-content">
			<div class="contact-info">
				<h2>Ross Estate Law</h2>
				<div class="contact-details">
					<div class="contact-item">
						<span class="phone">(902) 403-0008</span>
					</div>
					<div class="contact-item">
						<span class="email">megan@rossestatelaw.ca</span>
					</div>
					<div class="contact-item">
						<span class="address">99 Wyse Road, Suite 1100<br>Dartmouth, Nova Scotia<br>B3A 4S5</span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="footer">
		<ul>
			<li>
				<a href="index.html">Home</a>
			</li>
			<li>
				<a href="about.html">About</a>
			</li>
			<li>
				<a href="estate-planning.html">Services</a>
			</li>
			<li>
				<a href="blog.html">Blog</a>
			</li>
			<li>
				<a href="legal.html">Privacy & Legal</a>
			</li>
		</ul>
	</div>
	<style>
		/* Page content styling */
		#background {
			background: #ffffff !important;
			padding: 40px 0 80px 0;
			min-height: 400px;
		}

		/* Guides page specific - full width layout */
		.guides-page-bg {
			max-width: 100% !important;
			width: 100% !important;
			margin: 0 auto !important;
			padding: 60px 20px !important;
			float: none !important;
			position: relative !important;
			left: auto !important;
			right: auto !important;
			transform: none !important;
			background: #ffffff !important;
		}

		/* Override default background div widths */
		#body div#background.guides-page-bg div:not(.events-content):not(.blog-post-box):not(.blog-post-content),
		#body div#background.guides-page-bg div div:not(.events-content):not(.blog-post-box):not(.blog-post-content),
		#body div#background.guides-page-bg div div div:not(.events-content):not(.blog-post-box):not(.blog-post-content) {
			width: 100% !important;
			max-width: 1600px !important;
			margin: 0 auto !important;
			padding: 0 !important;
		}

		.guides-container {
			max-width: 1600px;
			margin: 0 auto;
			padding: 0 50px;
		}

		/* Section Styling */
		.section {
			margin-bottom: 60px;
		}

		.section-title {
			font-size: 24px;
			font-weight: bold;
			color: #000;
			margin: 0 0 20px 0;
			padding-bottom: 10px;
			border-bottom: 3px solid #000;
		}

		/* Documents Grid */
		.documents-grid {
			display: flex;
			gap: 40px;
			margin-top: 30px;
		}

		.document-item {
			display: flex;
			flex-direction: column;
			align-items: center;
			text-align: center;
			cursor: pointer;
		}

		.pdf-icon {
			width: 80px;
			height: 80px;
			object-fit: contain;
			margin-bottom: 15px;
		}

		.document-item h3 {
			font-size: 18px;
			font-weight: bold;
			color: #000;
			margin: 0;
		}

		/* Event Item */
		.event-item {
			display: flex;
			gap: 30px;
			align-items: flex-start;
			margin-top: 30px;
		}

		.event-image {
			width: 200px;
			height: 150px;
			object-fit: cover;
			flex-shrink: 0;
		}

		.event-details h3 {
			font-size: 24px;
			font-weight: bold;
			color: #000;
			margin: 0 0 10px 0;
		}

		.event-date {
			font-size: 18px;
			color: #000;
			margin: 0 0 5px 0;
		}

		.event-location {
			font-size: 18px;
			color: #000;
			margin: 0;
		}

		/* Events Section Styling - Isolate from global CSS */
		.events-section {
			text-align: left;
		}

		/* Protect events-content and all children from global CSS overrides */
		.events-content,
		.events-content * {
			all: unset;
		}

		/* Re-apply only the styles we want */
		.events-content {
			display: block;
			margin-top: 30px;
			text-align: left;
			max-height: 600px;
			overflow-y: auto;
			padding-right: 10px;
			width: 100%;
			box-sizing: border-box;
		}

		/* Blog Post Box */
		.blog-post-box {
			display: flex;
			background: #ffffff;
			border: 3px solid #8B7355;
			border-radius: 10px;
			padding: 20px;
			margin-bottom: 25px;
			gap: 20px;
			align-items: flex-start;
			box-sizing: border-box;
			width: 100%;
		}

		.blog-post-image {
			display: block;
			width: 40%;
			flex-shrink: 0;
			border-radius: 8px;
			overflow: hidden;
		}

		.blog-post-image img {
			display: block;
			width: 100%;
			height: 250px;
			object-fit: cover;
		}

		.blog-post-content {
			display: block;
			width: 60%;
			text-align: left;
			color: #333;
			box-sizing: border-box;
		}

		.blog-post-title {
			display: block;
			font-family: 'QuestrialRegular', sans-serif;
			font-size: 24px;
			font-weight: bold;
			color: #333;
			margin: 0 0 10px 0;
			text-align: left;
		}

		.blog-post-meta {
			display: block;
			font-family: 'QuestrialRegular', sans-serif;
			font-size: 14px;
			color: #666;
			margin: 0 0 15px 0;
			text-align: left;
		}

		.blog-post-excerpt {
			display: block;
			font-family: 'QuestrialRegular', sans-serif;
			font-size: 16px;
			color: #333;
			line-height: 1.6;
			margin: 0;
			text-align: left;
			display: -webkit-box;
			-webkit-line-clamp: 3;
			-webkit-box-orient: vertical;
			overflow: hidden;
		}

		/* Scrollbar styling */
		.events-content::-webkit-scrollbar {
			width: 10px;
		}

		.events-content::-webkit-scrollbar-track {
			background: #f1f1f1;
			border-radius: 5px;
		}

		.events-content::-webkit-scrollbar-thumb {
			background: #8B7355;
			border-radius: 5px;
		}

		.events-content::-webkit-scrollbar-thumb:hover {
			background: #6d5a42;
		}

		/* Mobile Responsive */
		@media (max-width: 768px) {
			.blog-post-box {
				flex-direction: column;
			}

			.blog-post-image,
			.blog-post-content {
				width: 100%;
			}

			.blog-post-image img {
				height: 200px;
			}
		}

		/* Tablet Responsive */
		@media (max-width: 1024px) {
			.guides-container {
				padding: 0 30px;
			}

			.section-title {
				font-size: 22px;
			}
		}

		/* Mobile Responsive */
		@media (max-width: 768px) {
			.guides-container {
				padding: 0 20px;
			}

			.section {
				margin-bottom: 40px;
			}

			.section-title {
				font-size: 20px;
				padding-bottom: 8px;
				border-bottom: 2px solid #000;
			}

			.documents-grid {
				flex-direction: column;
				gap: 30px;
				align-items: center;
			}

			.document-item {
				width: 100%;
				max-width: 200px;
			}

			.pdf-icon {
				width: 70px;
				height: 70px;
			}

			.document-item h3 {
				font-size: 16px;
			}

			.event-item {
				flex-direction: column;
			}

			.event-image {
				width: 100%;
				max-width: 300px;
			}

			.event-details h3 {
				font-size: 20px;
			}

			.event-date,
			.event-location {
				font-size: 16px;
			}

			#background {
				padding: 20px 0 40px 0;
			}
		}

		/* Small Mobile */
		@media (max-width: 480px) {
			.guides-container {
				padding: 0 15px;
			}

			.section-title {
				font-size: 18px;
			}

			.document-item h3 {
				font-size: 14px;
			}

			.pdf-icon {
				width: 60px;
				height: 60px;
			}

			.event-details h3 {
				font-size: 18px;
			}

			.event-date,
			.event-location {
				font-size: 14px;
			}
		}
	</style>

	<script src="js/mobile-nav.js"></script>
	<script src="js/load-navigation.js"></script>
	<script src="js/cookie-consent.js"></script>

	<script>
		// Load blog posts for guides page
		async function loadGuidePosts() {
			try {
				const response = await fetch('https://api.github.com/repos/theRealSlickFrog/Megan-Ross/contents/_posts');
				const files = await response.json();

				const container = document.querySelector('.events-content');

				if (!files || files.length === 0) {
					container.innerHTML = '<p style="color: #666;">No events yet.</p>';
					return;
				}

				// Fetch and parse all posts
				const posts = [];
				for (const file of files) {
					if (file.name.endsWith('.md')) {
						const contentResponse = await fetch(file.download_url);
						const content = await contentResponse.text();
						const post = parsePost(content);
						if (post) posts.push(post);
					}
				}

				// Filter for guides or both
				const guidePosts = posts.filter(post => {
					const category = (post.category || 'blog').trim().toLowerCase();
					return category === 'guides' || category === 'both';
				});

				// Sort by date (newest first)
				guidePosts.sort((a, b) => new Date(b.date) - new Date(a.date));

				if (guidePosts.length === 0) {
					container.innerHTML = '<p style="color: #666;">No events yet.</p>';
					return;
				}

				// Display posts
				container.innerHTML = guidePosts.map(post => {
					const excerpt = getExcerpt(post.body);
					const dateStr = formatDate(post.date);
					const fallbackImg = 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="250" viewBox="0 0 400 250"%3E%3Crect fill="%23ddd" width="400" height="250"/%3E%3Ctext x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="18" fill="%23999"%3ENo Image%3C/text%3E%3C/svg%3E';

					return `
						<div class="blog-post-box">
							<div class="blog-post-image">
								<img src="${post.thumbnail || fallbackImg}" alt="${escapeHtml(post.title)}" onerror="this.src='${fallbackImg}'">
							</div>
							<div class="blog-post-content">
								<h3 class="blog-post-title">${escapeHtml(post.title)}</h3>
								<p class="blog-post-meta">${dateStr}</p>
								<p class="blog-post-excerpt">${escapeHtml(excerpt)}</p>
							</div>
						</div>
					`;
				}).join('');

			} catch (error) {
				console.error('Error loading guide posts:', error);
				document.querySelector('.events-content').innerHTML = '<p style="color: #666;">Error loading events.</p>';
			}
		}

		// Parse markdown post
		function parsePost(content) {
			const frontMatterRegex = /^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/;
			const match = content.match(frontMatterRegex);
			if (!match) return null;

			const post = { body: match[2] };

			// Parse front matter
			match[1].split('\n').forEach(line => {
				const colonIndex = line.indexOf(':');
				if (colonIndex > 0) {
					const key = line.substring(0, colonIndex).trim();
					const value = line.substring(colonIndex + 1).trim();
					post[key] = value;
				}
			});

			return post;
		}

		// Get excerpt (first 150 characters)
		function getExcerpt(body) {
			const text = body.replace(/[#*_`\[\]]/g, '').trim();
			return text.length > 150 ? text.substring(0, 150) + '...' : text;
		}

		// Format date
		function formatDate(dateStr) {
			try {
				const date = new Date(dateStr);
				return date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
			} catch {
				return dateStr;
			}
		}

		// Escape HTML
		function escapeHtml(text) {
			const div = document.createElement('div');
			div.textContent = text;
			return div.innerHTML;
		}

		// Load on page load
		loadGuidePosts();
	</script>

</body>
</html>
